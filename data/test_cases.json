
[
    { "id": "init_load_script", "category": "App Initialization", "description": "Select 'Tamil' script. Verify workspace loads with correct character grid.", "priority": "high" },
    { "id": "init_restore_session", "category": "App Initialization", "description": "Enable Autosave. Draw a shape. Refresh. Click 'Restore Session'. Verify drawing exists.", "priority": "high" },
    { "id": "init_new_empty_project", "category": "App Initialization", "description": "Click 'New Empty Project'. Enter name 'TestFont', UPM 2048. Verify empty grid with correct UPM in settings.", "priority": "medium" },
    
    { "id": "nav_mobile_drawer_open", "category": "Mobile UI", "description": "On mobile viewport, click the floating 'Grid' button. Verify Nav Drawer slides in from left.", "priority": "high" },
    { "id": "nav_mobile_drawer_close", "category": "Mobile UI", "description": "Open Mobile Drawer. Click backdrop. Verify Drawer slides out.", "priority": "medium" },
    { "id": "nav_mobile_toolbar_scroll", "category": "Mobile UI", "description": "On mobile, open Drawing Editor. Select a path. Verify Contextual Toolbar appears at bottom and is horizontally scrollable.", "priority": "medium" },

    { "id": "cmd_palette_open", "category": "Command Palette", "description": "Press Ctrl+K (or Cmd+K). Verify palette modal opens.", "priority": "high" },
    { "id": "cmd_palette_search_glyph", "category": "Command Palette", "description": "Open Palette. Type 'ka'. Verify 'ka' glyph appears in results. Select it. Verify editor opens.", "priority": "high" },
    { "id": "cmd_palette_search_alias", "category": "Command Palette", "description": "Open Palette. Type 'Spacing'. Verify 'Kerning Workspace' appears (alias check).", "priority": "medium" },
    { "id": "cmd_palette_search_hex", "category": "Command Palette", "description": "Open Palette. Type 'U+0041'. Verify 'A' appears.", "priority": "medium" },
    { "id": "cmd_palette_nav_keys", "category": "Command Palette", "description": "Type 'settings'. Use Up/Down arrows to highlight 'Settings'. Press Enter. Verify Settings modal opens.", "priority": "medium" },

    { "id": "draw_tools_pen", "category": "Drawing Tools", "description": "Select Pen. Click points to form a shape. Close shape by clicking start point. Verify filled shape.", "priority": "high" },
    { "id": "draw_tools_calligraphy", "category": "Drawing Tools", "description": "Select Calligraphy. Draw a stroke. Toggle angle (45/30/15) via toolbar. Draw again. Verify stroke contrast changes.", "priority": "medium" },
    { "id": "draw_tools_slice", "category": "Drawing Tools", "description": "Draw a circle. Select Slice tool. Drag line across circle. Verify circle splits into two paths.", "priority": "high" },
    { "id": "draw_tools_eraser", "category": "Drawing Tools", "description": "Draw a path. Select Eraser. Drag over path. Verify segment is removed/split.", "priority": "medium" },
    
    { "id": "draw_context_transform_numeric", "category": "Drawing UI", "description": "Select a path. In Contextual Toolbar, type '45' in Rotate field. Press Enter. Verify path rotates 45deg.", "priority": "medium" },
    { "id": "draw_context_flip", "category": "Drawing UI", "description": "Select a path. Click 'Flip Horizontal' icon in toolbar. Verify geometry mirrors.", "priority": "medium" },
    
    { "id": "draw_batch_select", "category": "Batch Operations", "description": "Click 'Select' (Batch) icon in header. Click 3 glyph cards. Verify counter shows '3 selected'.", "priority": "high" },
    { "id": "draw_batch_transform", "category": "Batch Operations", "description": "Select 2 glyphs in Batch mode. Click 'Transform'. Enter Scale 1.5. Click Apply. Verify glyphs scaled up.", "priority": "high" },
    { "id": "draw_batch_properties", "category": "Batch Operations", "description": "Select multiple glyphs. Click 'Edit Properties'. Set LSB to 100. Save. Verify LSB updated for all.", "priority": "medium" },
    { "id": "draw_batch_delete", "category": "Batch Operations", "description": "Select glyphs. Click 'Delete'. Confirm modal. Verify glyphs cleared.", "priority": "high" },

    { "id": "pos_drag_mark", "category": "Positioning", "description": "Open a Base+Mark pair. Drag the mark on canvas. Verify coordinates update in toolbar.", "priority": "high" },
    { "id": "pos_manual_input", "category": "Positioning", "description": "In Positioning Toolbar, type '50' in X input. Press Enter. Verify mark moves.", "priority": "medium" },
    { "id": "pos_class_sync", "category": "Positioning", "description": "Move a mark for a Class Leader (Crown icon). Verify 'Updated X dependent pairs' notification appears.", "priority": "high" },
    { "id": "pos_dual_context", "category": "Positioning", "description": "Load script with dual classes (Base & Mark). Open a pair belonging to both. Toggle 'Sync via Base' / 'Sync via Mark' tabs. Verify active class context switches.", "priority": "low" },
    { "id": "pos_unlink_exception", "category": "Positioning", "description": "Click 'Link' icon to break sync. Move mark. Verify 'Exception' badge appears.", "priority": "medium" },

    { "id": "kern_drag_adjust", "category": "Kerning", "description": "Open a pair. Drag right glyph. Verify kerning value updates.", "priority": "high" },
    { "id": "kern_x_dist", "category": "Kerning", "description": "In toolbar, set 'X-Dist' to 50. Verify kerning value recalculates to achieve 50 unit gap.", "priority": "medium" },
    { "id": "kern_auto_run", "category": "Kerning", "description": "Click 'Auto-kern' in header. Verify progress modal appears and values populate.", "priority": "medium" },

    { "id": "rules_add_group", "category": "Rules Manager", "description": "Open Rules. Go to Groups tab. Click 'Add Group'. Enter name 'myGroup', members 'a, b'. Save. Verify group appears.", "priority": "high" },
    { "id": "rules_validation_duplicate", "category": "Rules Manager", "description": "Try creating group '@vowels' (if '$vowels' exists). Verify error notification 'Name already exists'.", "priority": "medium" },
    { "id": "rules_lookup_reorder", "category": "Rules Manager", "description": "In 'Features' tab, click 'Up' arrow on a lookup. Verify order changes.", "priority": "medium" },
    { "id": "rules_export_fea", "category": "Rules Manager", "description": "Click 'Export FEA'. Verify .fea file downloads.", "priority": "medium" },
    
    { "id": "settings_guide_font", "category": "Settings", "description": "Go to Settings -> Editor. Enter valid TTF URL for Guide Font. Verify background guide updates in editor.", "priority": "medium" },
    { "id": "settings_theme_toggle", "category": "Settings", "description": "Toggle Dark Mode. Verify UI colors invert correctly.", "priority": "low" },

    { "id": "import_project_merge", "category": "Import/Export", "description": "Click 'Import Glyphs'. Select a project file. Choose 'Fill' vs 'Overwrite' for a specific glyph. Import. Verify logic held.", "priority": "high" },
    { "id": "snapshot_create_restore", "category": "History", "description": "Menu -> Take Snapshot. Modify glyph. Menu -> Restore Snapshot. Verify original state returned.", "priority": "high" }
]
